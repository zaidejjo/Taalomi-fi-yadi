{% extends "base.html" %}
{% load static %}
{% block title %}Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - ØªØ¹Ù„Ù…ÙŠ ÙÙŠ ÙŠØ¯ÙŠ{% endblock %}
<link rel="stylesheet" href="{% static 'css/home.css' %}" />
<meta name="description" content="Ù…Ù†ØµØ© ØªØ¹Ù„Ù‘Ù…ÙŠ ÙÙŠ ÙŠØ¯ÙŠ: Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§ØªØŒ Ø­Ø¶ÙˆØ± ÙˆØºÙŠØ§Ø¨ØŒ ÙˆØ§Ø¬Ø¨Ø§ØªØŒ Ù…Ø³Ø§Ø¨Ù‚Ø§ØªØŒ ÙˆÙ…Ø­Ø§Ø¯Ø«Ø© Ø°ÙƒÙŠØ© Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.">

{% block content %}
<div class="home-container" dir="rtl" lang="ar">

    <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
    <section class="welcome-section text-center py-5">
        <h1 class="display-5 fw-bold mb-3">
            Ù…Ø±Ø­Ø¨Ø§Ù‹ <span class="text-primary">{{ user.get_full_name|default:user.username }}</span> ğŸ‘‹<br>
            Ø§Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© <span class="text-primary fw-bold">ØªØ¹Ù„Ù…ÙŠ ÙÙŠ ÙŠØ¯ÙŠ</span>
        </h1>
        <p class="lead text-secondary">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø£Ø¯Ù†Ø§Ù‡ Ù„Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø© ÙˆØ³Ø±ÙŠØ¹Ø©.</p>
    </section>

    <!-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
    <section class="sections-grid container py-5">
        <!-- Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§Øª -->
        <div class="section-card bg-gradient1">
            <a href="{% url 'academics:index' %}">
                <img src="{% static 'images/books.png' %}" alt="Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§Øª" class="section-img">
            </a>
            <h4>Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§Øª</h4>
            <p>Ø§Ù„Ù…ÙˆØ§Ø¯ØŒ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§ØªØŒ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§ØªØŒ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</p>
            <a href="{% url 'academics:index' %}" class="btn btn-light">Ø§Ø°Ù‡Ø¨</a>
        </div>

        <!-- Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨ -->
        <div class="section-card bg-gradient2">
            <a href="{% url 'attendance:absence_list' %}">
                <img src="{% static 'images/clock.png' %}" alt="Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨" class="section-img">
            </a>
            <h4>Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨</h4>
            <p>ØªØªØ¨Ø¹ Ø­Ø¶ÙˆØ± ÙˆØºÙŠØ§Ø¨ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
            <a href="{% url 'attendance:absence_list' %}" class="btn btn-light">Ø§Ø°Ù‡Ø¨</a>
        </div>

        <!-- Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª -->
        <div class="section-card bg-gradient3">
            <a href="{% url 'assignments:assignment_list' %}">
                <img src="{% static 'images/assignment.png' %}" alt="Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª" class="section-img">
            </a>
            <h4>Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª</h4>
            <p>Ø¹Ø±Ø¶ ÙˆØªØ³Ù„ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©</p>
            <a href="{% url 'assignments:assignment_list' %}" class="btn btn-light">Ø§Ø°Ù‡Ø¨</a>
        </div>

        <!-- Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª -->
        <div class="section-card bg-gradient4">
            <a href="{% url 'competitions:competition_list' %}">
                <img src="{% static 'images/trophy.png' %}" alt="Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª" class="section-img">
            </a>
            <h4>Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª</h4>
            <p>Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
            <a href="{% url 'competitions:competition_list' %}" class="btn btn-light">Ø§Ø°Ù‡Ø¨</a>
        </div>

        <!-- Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ© -->
        <div class="section-card bg-gradient5">
            <a href="{% url 'ai_chat:chat_home' %}">
                <img src="{% static 'images/ai_robot2.png' %}" alt="Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©" class="section-img">
            </a>
            <h4>Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h4>
            <p>ØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯</p>
            <a href="{% url 'ai_chat:chat_home' %}" class="btn btn-light">Ø§Ø°Ù‡Ø¨</a>
        </div>
    </section>
</div>

<style>
:root {
    --bg-color: #f7f9fc;
    --text-color: #212121;
    --card-bg: #fff;
    --card-text: #fff;
    --btn-bg: #fff;
    --btn-text: #000;
}

html[data-theme='dark'] {
    --bg-color: #121212;
    --text-color: #e0e0e0;
    --card-bg: #1e1e1e;
    --card-text: #fff;
    --btn-bg: #333;
    --btn-text: #fff;
}

body {
    font-family: 'Tajawal', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: all 0.3s ease;
}

/* Welcome Section */
.welcome-section h1 .text-primary { color: hsl(212, 82%, 24%); }
.welcome-section p { font-size: 1.1rem; line-height: 1.6; }

/* Sections Grid */
.sections-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 30px;
    justify-items: center;
}

.section-card {
    width: 260px;
    height: 300px;
    background: var(--card-bg);
    border-radius: 25px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 10px 20px rgba(0,0,0,0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.section-card:hover {
    transform: translateY(-10px) scale(1.03);
    box-shadow: 0 20px 35px rgba(0,0,0,0.2);
}

.section-card h4 { margin-top: 15px; font-weight: bold; color: var(--card-text); }
.section-card p { color: rgba(255,255,255,0.85); font-size: 0.95rem; margin: 10px 0 15px; }

/* Buttons */
.section-card .btn {
    border-radius: 50px;
    font-weight: bold;
    padding: 6px 20px;
    background-color: var(--btn-bg);
    color: var(--btn-text);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease, color 0.3s ease;
}

.section-card .btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

/* Images */
.section-card a img.section-img {
    width: 110px;
    height: 110px;
    object-fit: contain;
    margin: 0 auto 10px;
    display: block;
    transition: transform 0.4s ease;
}

.section-card a:hover img.section-img { transform: scale(1.3) rotate(5deg); }

/* Gradients */
html[data-theme='light'] .bg-gradient1 { background: linear-gradient(135deg,#6a11cb,#2575fc); }
html[data-theme='light'] .bg-gradient2 { background: linear-gradient(135deg,#11998e,#38ef7d); }
html[data-theme='light'] .bg-gradient3 { background: linear-gradient(135deg,#f7971e,#ffd200); }
html[data-theme='light'] .bg-gradient4 { background: linear-gradient(135deg,#fc5c7d,#6a82fb); }
html[data-theme='light'] .bg-gradient5 { background: linear-gradient(135deg,#36d1dc,#5b86e5); }

html[data-theme='dark'] .bg-gradient1 { background: linear-gradient(135deg,#4a148c,#311b92); }
html[data-theme='dark'] .bg-gradient2 { background: linear-gradient(135deg,#0f9d58,#1b5e20); }
html[data-theme='dark'] .bg-gradient3 { background: linear-gradient(135deg,#ff6f00,#ffca28); }
html[data-theme='dark'] .bg-gradient4 { background: linear-gradient(135deg,#b71c1c,#4a148c); }
html[data-theme='dark'] .bg-gradient5 { background: linear-gradient(135deg,#006064,#004d40); }

/* Responsive */
@media(max-width:768px) {
    .section-card { width: 220px; height: 280px; padding: 15px; }
    .section-card a img.section-img { width: 90px; height: 90px; }
}
</style>

<script>
// Animate cards on scroll
document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.section-card');
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if(entry.isIntersecting){
                entry.target.style.transition = 'transform 0.6s ease, opacity 0.6s ease';
                entry.target.style.transform = 'translateY(0)';
                entry.target.style.opacity = '1';
            }
        });
    }, { threshold: 0.2 });

    cards.forEach(card => {
        card.style.transform = 'translateY(50px)';
        card.style.opacity = '0';
        observer.observe(card);
    });
});
</script>
{% endblock %}
